import{c as ne,r as a,k as ce,l as u,f as h,j as e,A as ie,D as de,d as ue,S as he,T as ge,g as me,t as l,P as xe,m as x,i as pe,R as be,L as fe,U as ye,h as je}from"./index-CVRss-E1.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ve=ne("tag",Se);function Ne({onBack:c}){const[t,n]=a.useState("categories"),[o,r]=a.useState(!1),[m,P]=a.useState(!1),[d,I]=a.useState(""),[A,G]=a.useState("ShoppingBag"),[f,L]=a.useState(""),[y,R]=a.useState(""),[T,J]=a.useState("hotel"),[B,O]=a.useState("4.5"),[j,D]=a.useState(""),[M,Q]=a.useState("food"),[S,E]=a.useState(""),[v,F]=a.useState(""),[H,U]=a.useState(""),[N,W]=a.useState(""),[z,X]=a.useState("food"),[w,V]=a.useState(""),[C,_]=a.useState(""),[K,Y]=a.useState("Bike"),[Z,ee]=a.useState([]),k=a.useCallback(async()=>{try{const le=(await ce(u(h,"stores"))).docs.map($=>({id:$.id,...$.data()}));ee(le)}catch(s){console.error("Error fetching stores:",s)}},[]);a.useEffect(()=>{t==="products"&&k()},[t,k]);const ae=async()=>{if(window.confirm("This will populate the database with original mock categories, stores, and products. Continue?")){P(!0),console.log("Button clicked, starting seed...");try{await me()&&(l.success("Database Seeded Successfully!"),t==="products"&&k())}catch(s){console.error("Seed error:",s),l.error("Seeding failed: "+s.message)}finally{P(!1),console.log("Seeding process finished.")}}},se=async()=>{if(!d||!f)return l.error("Please fill all fields");r(!0);try{await x(u(h,"categories"),{id:d.toLowerCase().replace(/\s+/g,"_"),labelKey:d.toLowerCase(),name:d,iconName:A,image:f,color:"from-orange-400 to-red-400"}),l.success("Category Added!"),I(""),L("")}catch(s){l.error(s.message)}finally{r(!1)}},te=async()=>{if(!y||!j)return l.error("Please fill all fields");r(!0);try{await x(u(h,"stores"),{name:y,type:T,rating:parseFloat(B),image:j,categories:[M],deliveryTime:"25-30 min"}),l.success("Hotel/Shop Added!"),R(""),D("")}catch(s){l.error(s.message)}finally{r(!1)}},re=async()=>{if(!S||!v||!N)return l.error("Please fill all fields");r(!0);try{await x(u(h,"products"),{name:S,price:parseFloat(v),image:H||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=200",storeId:N,categoryId:z,rating:4.5}),l.success("Menu Item Added!"),E(""),F(""),U("")}catch(s){l.error(s.message)}finally{r(!1)}},oe=async()=>{if(!w||!C)return l.error("Please fill all fields");r(!0);try{await x(u(h,"delivery_partners"),{name:w,phoneNumber:C,vehicleType:K,status:"online",rating:5}),l.success("Delivery Partner Added!"),V(""),_("")}catch(s){l.error(s.message)}finally{r(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[e.jsx("div",{className:"bg-white px-6 py-6 shadow-sm sticky top-0 z-10",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:c,className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-black"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-black",children:"Admin Management"}),e.jsx("p",{className:"text-xs text-gray-500 italic",children:"Manage your marketplace data"})]})]}),e.jsxs("button",{onClick:ae,disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-yellow-400 text-black rounded-xl font-bold text-xs hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[e.jsx(de,{className:"w-4 h-4"}),m?"Seeding...":"Seed Mock Data"]})]})}),e.jsxs("div",{className:"flex bg-white px-6 border-b border-gray-200 overflow-x-auto no-scrollbar scroll-smooth",children:[e.jsx(p,{active:t==="categories",onClick:()=>n("categories"),icon:ve,label:"Categories"}),e.jsx(p,{active:t==="stores",onClick:()=>n("stores"),icon:ue,label:"Hotels/Shops"}),e.jsx(p,{active:t==="products",onClick:()=>n("products"),icon:he,label:"Menu/Pricing"}),e.jsx(p,{active:t==="partners",onClick:()=>n("partners"),icon:ge,label:"Partners"})]}),e.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[t==="categories"&&e.jsxs(b,{title:"Add New Category",onSubmit:se,loading:o,children:[e.jsx(i,{label:"Name",value:d,onChange:I,placeholder:"e.g. Biryani, Pizza"}),e.jsx(g,{label:"Icon",value:A,onChange:G,options:["ShoppingBag","Store","Apple","Beef","Pill"]}),e.jsx(i,{label:"Image URL",value:f,onChange:L,placeholder:"https://..."})]}),t==="stores"&&e.jsxs(b,{title:"Register New Hotel/Shop",onSubmit:te,loading:o,children:[e.jsx(i,{label:"Business Name",value:y,onChange:R,placeholder:"e.g. Sangeetha Hotel"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(g,{label:"Type",value:T,onChange:J,options:["hotel","grocery","pharmacy"]}),e.jsx(i,{label:"Rating",value:B,onChange:O,placeholder:"4.5",type:"number"})]}),e.jsx(i,{label:"Logo/Image URL",value:j,onChange:D,placeholder:"https://..."}),e.jsx(g,{label:"Main Category",value:M,onChange:Q,options:["food","grocery","fruits","meat","medicine"]})]}),t==="products"&&e.jsxs(b,{title:"Add Menu Item & Pricing",onSubmit:re,loading:o,children:[e.jsx(i,{label:"Item Name",value:S,onChange:E,placeholder:"e.g. Veg Meals"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(i,{label:"Price (â‚¹)",value:v,onChange:F,placeholder:"150",type:"number"}),e.jsx(g,{label:"Category",value:z,onChange:X,options:["food","grocery","fruits","meat","medicine"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Hotel/Shop"}),e.jsxs("select",{className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-200 outline-none focus:border-black transition-colors",value:N,onChange:s=>W(s.target.value),children:[e.jsx("option",{value:"",children:"Choose a store..."}),Z.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx(i,{label:"Image URL",value:H,onChange:U,placeholder:"https://..."})]}),t==="partners"&&e.jsxs(b,{title:"Register Delivery Partner",onSubmit:oe,loading:o,children:[e.jsx(i,{label:"Full Name",value:w,onChange:V,placeholder:"e.g. Rajesh Kumar"}),e.jsx(i,{label:"Phone Number",value:C,onChange:_,placeholder:"+91 98765 43210"}),e.jsx(g,{label:"Vehicle",value:K,onChange:Y,options:["Bike","Scooter","Cycle"]})]})]})]})}function p({active:c,onClick:t,icon:n,label:o}){return e.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-6 py-4 border-b-2 transition-all whitespace-nowrap outline-none ${c?"border-black text-black":"border-transparent text-gray-400"}`,children:[e.jsx(n,{className:`w-4 h-4 ${c?"text-black":"text-gray-400"}`}),e.jsx("span",{className:"font-semibold text-sm",children:o})]})}function b({title:c,children:t,onSubmit:n,loading:o}){return e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 space-y-6",children:[e.jsx("h2",{className:"font-bold text-xl text-black",children:c}),e.jsx("div",{className:"space-y-4",children:t}),e.jsxs("button",{onClick:n,disabled:o,className:"w-full bg-black text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-gray-900 active:scale-[0.98] transition-all disabled:opacity-50",children:[o?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(xe,{className:"w-5 h-5"}),o?"Processing...":"Add to Database"]})]})}function i({label:c,value:t,onChange:n,placeholder:o,type:r="text"}){return e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:c}),e.jsx("input",{type:r,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-100 outline-none focus:border-black focus:bg-white transition-all text-black",placeholder:o,value:t,onChange:m=>n(m.target.value)})]})}function g({label:c,value:t,onChange:n,options:o}){return e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:c}),e.jsx("select",{className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-100 outline-none focus:border-black focus:bg-white transition-all text-black",value:t,onChange:r=>n(r.target.value),children:o.map(r=>e.jsx("option",{value:r,children:r.charAt(0).toUpperCase()+r.slice(1)},r))})]})}function we(){return e.jsx(fe,{children:e.jsxs(ye,{children:[e.jsx("div",{className:"min-h-screen bg-white",children:e.jsx("div",{className:"max-w-4xl mx-auto shadow-xl min-h-screen bg-white",children:e.jsx(Ne,{onBack:()=>{window.location.href="/"}})})}),e.jsx(je,{position:"top-center"})]})})}const q=document.getElementById("root");q&&pe.createRoot(q).render(e.jsx(be.StrictMode,{children:e.jsx(we,{})}));
